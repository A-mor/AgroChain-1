<!--
    *Forms appears according to the role/address of the user
    *Addresses and roles are defined in the app.js 
    *Btn-group-undef added : if no static user address detected
    *Must configure calling supplier methods error : not a function
    *Must implement in contract an array of addresses & mapping (address => role)
     so that an address if ever connected to the app through metamask it will always have the same role 
    *New contract created for the supplier I wad Trying to fix issues I faced, but it did not solve them 
-->

<!DOCTYPE html>
<html>
<head>
  <title>Agricultural Blockchain App</title>
   <link href="./app.css" rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>

  <!-- QRCODE STUFF-->
  <script type="text/javascript" src="https://unpkg.com/qr-code-styling/lib/qr-code-styling.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
 
</head>
<body>
  
  <h1>Agricultural Supply Chain Dapp</h1>
  <h4>Identified as : <span class="white"><span id="SenderBalance"></span> </h4>
  <hide>
    <div hidden class="btn-group" id="form-selector" align="center">
		
		<button type="button" class="btn1 btn-selector active" id="sign-up-btn">Farmer</button>
		<button type="button" class="btn1 btn-selector" id="log-in-btn">Quality Testing</button>
		<button type="button" class="btn1 btn-selector" id="payments-btn">Customer</button>
    <button type="button" class="btn1 btn-selector" id="supplier-btn">Supplier</button>
		<button type="button" class="btn1 btn-selector" id="finance-btn">Micro-Finance</button>
    
		
	</div>

  <div hidden class="btn-group" id="form-selector-undef" align="center">
		
		<button type="button" class="btn1 btn-selector active" id="sign-up-btn-undef">Farmer</button>
		<button type="button" class="btn1 btn-selector" id="log-in-btn-undef">Quality Testing</button>
		<button type="button" class="btn1 btn-selector" id="payments-btn-undef">Customer</button>
    <button type="button" class="btn1 btn-selector" id="supplier-btn-undef">Supplier</button>
		<button type="button" class="btn1 btn-selector" id="finance-btn-undef">Micro-Finance</button>
    
		
	</div>


	<div hidden class="form" name="customer" id="sign-up-form">
		<h2 class="form-title">Enter Details</h2>
		<input type="text" onchange="updateQrId();"    class="input-std" id="fid"      placeholder="Farmer Id">
		<input type="text" onchange="updateQrName();"  class="input-std" id="fname"    placeholder="Farmers Name">
		<input type="text" onchange="updateQrLoc();"   class="input-std" id="loc"      placeholder="Location">
		<input type="text" onchange="updateQrCrop();"  class="input-std" id="crop"     placeholder="Crop Name">
		<input type="text" onchange="updateQrCont();"  class="input-std" id="contact"  placeholder="Phone">
		<input type="text" onchange="updateQrQuant();" class="input-std" id="quantity" placeholder="Quantity">
		<input type="text" onchange="updateQrExpr();"  class="input-std" id="exprice"  placeholder="Expected Price">
		<button type="button" class="btn-submit" id="setvalue" onclick="set()">Submit Details!</button>
	<span id="status"></span>

  <!--ADDED HTML FOR QRCODE-->
  <div class="inputContainer">

    <label for="imageInput">Image</label>

    <input type="file" onchange="updateQrImg();" name="imageInput" id="imageInput" accept="image/*"  />

  </div>

  <div class="inputContainer">

    <label for="colorInput">Color</label>

    <input type="color" onchange="updateQrColor();" name="colorInput" id="colorInput" />

  </div>

  <div class="inputContainer">

    <label for="typeInput">Type</label>

    <select name="typeInput" id="typeInput" onchange="updateQrType();">

      <option value="square">Square</option>

      <option value="rounded">Rounded</option>

      <option value="dots">Dots</option>

    </select>

  </div>
	</div>
	
	 	




  
  <div hidden class="form" id="log-in-form">
  <h2 class="form-title">Quality Testing</h2>
		
		
  <br>
  <table>  
  <!-- <tr><td><b><label class = "black">Farmer Id</label></td><td>:</td></b><td><span class="black" span id="getval1"></span></td></tr> -->
  <input type="text" class="input-std" id="fid1" placeholder="Farmer Id">
  <tr><td><b><label class = "black">Farmer Name</label></td><td>:</td></b><td><span class="black" span id="getval2"></span></td></tr>
  <tr><td><b><label class = "black">Location</label></td><td>:</td></b><td><span class="black" span id="getval3"></span></td></tr>
  <tr><td><b><label class = "black">Crop</label></td><td>:</td></b><td><span class="black" span id="getval4"></span></td></tr>
  <tr><td><b><label class = "black">Phone</label></td><td>:</td></b><td><span class="black" span id="getval5"></span></td></tr>
  <tr><td><b><label class = "black">Quantity</label></td><td>:</td></b><td><span class="black" span id="getval6"></span></td></tr>
  <tr><td><b><label class = "black">Expected price</label><td>:</td></td></b><td><span class="black" span id="getval7"></span></td></tr>
  
  </table>  
  <button type="button" class="btn-submit" id="getvalue" onclick="get();">Get Value</button>
     
  <br><br>
  
  
 
<button type="button" class="btn-submit1" id="Approve-btn" align ="center" font="20px">Approve Details</button>
  


  <span id="status"></span>

 </div>
	

<div hidden class="form" id="approve-form">
     <h2 class="form-title">Product Details</h2>
		<input type="text" class="input-std" id="lotno" placeholder="Lot Number">
		<input type="text" class="input-std" id="grade" placeholder="Grade">
		<input type="text" class="input-std" id="mrp" placeholder="MRP">
		<input type="text" class="input-std" id="testdate" placeholder="Test Date">
		<input type="text" class="input-std" id="expdate" placeholder="Expiry Date">
		
		<button type="button" class="btn-submit" id="setvalue" onclick="setQ()">Submit</button>
			
		<span id="status"></span>	

  </div>
  
  
  <div hidden class="form" id="payments-form">
   <h2 class="form-title">Customer</h2>
  <table>  
  <input type="text" class="input-std" id="getfid" placeholder="Farmer Id">
  <tr><td><b><label class = "black">Farmer Id</label></td><td>:</td></b><td><span class="black" span id="cgetval1"></span></td></tr>
  <tr><td><b><label class = "black">Farmer Name</label></td><td>:</td></b><td><span class="black" span id="cgetval2"></span></td></tr>
  <tr><td><b><label class = "black">Location</label></td><td>:</td></b><td><span class="black" span id="cgetval3"></span></td></tr>
  <tr><td><b><label class = "black">Crop</label></td><td>:</td></b><td><span class="black" span id="cgetval4"></span></td></tr>
  <tr><td><b><label class = "black">Phone</label></td><td>:</td></b><td><span class="black" span id="cgetval5"></span></td></tr>
  <tr><td><b><label class = "black">Quantity</label></td><td>:</td></b><td><span class="black" span id="cgetval6"></span></td></tr>
  <tr><td><b><label class = "black">Expected price</label><td>:</td></td></b><td><span class="black" span id="cgetval7"></span></td></tr>
  <input type="text" class="input-std" id="lotnum" placeholder="Lot number">
  <tr><td><b><label class = "black">Lot Number</label><td>:</td></td></b><td><span class="black" span id="cgetval8"></span></td></tr>
  <tr><td><b><label class = "black">Grade</label><td>:</td></td></b><td><span class="black" span id="cgetval9"></span></td></tr>
  <tr><td><b><label class = "black">MRP</label><td>:</td></td></b><td><span class="black" span id="cgetval10"></span></td></tr>
  <tr><td><b><label class = "black">Test Date</label><td>:</td></td></b><td><span class="black" span id="cgetval11"></span></td></tr>
  <tr><td><b><label class = "black">Expiry Date</label><td>:</td></td></b><td><span class="black" span id="cgetval12"></span></td></tr>
  </table>
  <button type="button" class="btn-submit" id="getcustval" onclick="getQ();cgetQ();">Get Value</button>
  </div>

  <div hidden class="form" id="finance-form">
		<h2 class="form-title">Micro-Finance</h2>
		

		<input type="text" class="input-std" id="pfid" placeholder="Farmer Adress exp : 0xAD221d151zd2d3658c">
		<input type="text" class="input-std" id="amount" placeholder="Fund Amount in ETHER">
		<table>
		
		</table>
		<button type="button" class="btn-submit" id="getfund" onclick="fund()">Fund Farmer</button>
		
	<span id="status"></span>
	</div>


  <div hidden class="form" id="supplier-form">
		<h2 class="form-title">Check in form</h2>
		<input type="text" class="input-std" id="lotnSupplier" placeholder="numero de lot">
		<input type="text" class="input-std" id="check-in-date" placeholder="Check in date">
		<button type="button" class="btn-submit" id="setvalue-supplier" onclick="setSupplier()">Submit Details!</button>
	<span id="status"></span>
	</div>

</hide>

  
<link href="./app.css" rel='stylesheet' type='text/css'>
<script src="./app.js"></script>
<script type="text/javascript" src="qr.js"></script>

  <div id="canvas" align="center"></div>
  <button  id="formButton" align="center" onclick="download();">Download QR Code</button>
 
</body>
</html>